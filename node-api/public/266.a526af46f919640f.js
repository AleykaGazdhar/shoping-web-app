"use strict";(self.webpackChunkshopping_website=self.webpackChunkshopping_website||[]).push([[266],{8266:(b,c,l)=>{l.r(c),l.d(c,{UserProfileModule:()=>P});var u=l(6895),d=l(1983),a=l(1300),e=l(1571),m=l(334),f=l(7185),h=l(3358),p=l(433);function U(n,o){if(1&n&&(e.TgZ(0,"sup",22),e._UZ(1,"i",23),e.qZA()),2&n){const t=e.oxw();e.Q6J("ngClass",t.checkvalidation("password"))}}function Z(n,o){1&n&&(e.TgZ(0,"p",46),e._uU(1," Use Strong Password min 8 characters,1 lowercase letter,1 uppercase letter,1 number ,1 special character."),e.qZA())}function T(n,o){if(1&n&&(e.TgZ(0,"sup",22),e._UZ(1,"i",23),e.qZA()),2&n){const t=e.oxw();e.Q6J("ngClass",t.checkvalidation("confirmpassword"))}}function C(n,o){1&n&&(e.TgZ(0,"p",47),e._uU(1," Confirm Password must match with password. "),e.qZA())}const g=function(n,o){return{"fa-eye-slash":n,"fa-eye":o}},_=function(){return["/user-profile"]},v=[{path:"",component:(()=>{class n{constructor(t,r,s,i,M,y){this.jwtService=t,this.usersService=r,this.globalService=s,this.spinner=i,this.toastr=M,this.router=y,this.currentUser=new a.ar,this.userStaticDetail={},this.fieldTextType=!1,this.requiredValidation={firstname:"",lastname:"",phonenumber:""},this.inValidateCheck={phoneNumber:!1,strongPasswordCheck:!1}}ngOnInit(){this.currentUser=this.jwtService.getCurrentUser(),this.userStaticDetail={...this.currentUser}}checkvalidation(t){return{...this.currentUser}[t]?"text-success":"text-danger"}uploadProfile(){const t=Object.keys(this.requiredValidation);let r={...this.currentUser};return t.filter(i=>!r[i]).length?(this.toastr.warning("*Please Fill All Fields are mandatory.","Warning"),this.spinner.hide(),!1):r.password&&r.password!==r.confirm_password?(this.toastr.warning("*Please write same password.","Warning"),this.spinner.hide(),!1):void this.doSignUp(r)}doSignUp(t){let r=t.password;this.usersService.doSignUp(t).subscribe(s=>{if(this.spinner.hide(),200===s.status){let i=s.data;delete i.profileOldImage,r?(this.jwtService.destroyToken(),this.globalService.logOut(),this.router.navigate(["/login"]),this.toastr.success(s.message,"Success")):(this.toastr.success(s.message,"Success"),this.jwtService.saveCurrentUser(JSON.stringify(i)),this.currentUser=this.jwtService.getCurrentUser(),this.userStaticDetail={...this.currentUser},this.globalService.sendActionChildToParent("updatedUserInfo"))}else this.toastr.error(s.message,"Error"),this.spinner.hide()},s=>{this.spinner.hide(),this.toastr.error(s,"Error!")})}patternMatchCheck(t,r){const s=this.globalService.patternMatchRegex(t,r);this.inValidateCheck[r]=s}toggleFieldTextType(){this.fieldTextType=!this.fieldTextType}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(a.Tj),e.Y36(a.fz),e.Y36(a.Uh),e.Y36(m.t2),e.Y36(f._W),e.Y36(d.F0))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-user-profile"]],decls:95,vars:31,consts:[[1,"container","profile-setting","mb-5","mt-3","p-5"],[1,"row"],[1,"hrLine","m-0"],[1,"row","my-4"],[1,"col-md-4"],[1,"card","h-40","mt-3"],[1,"card-body"],[1,"d-flex","justify-content-center","align-items-start","mt-4"],["for","fileToUpload",1,"rounded-circle"],[1,"profile-pic"],["id","ImgPreview","src","../../../assets/images/userProfile.png","height","150px","width","150px",1,"rounded-circle","mr-3"],[1,"mt-5","text-center"],[1,"text-capitalize"],[1,"text-secondary","mb-1"],[1,"text-muted","font-size-sm","text-capitalize"],[1,"list-unstyled"],[1,"fa","fa-phone","me-2"],[1,"fa","fa-envelope","me-2"],[1,"col-md-8"],[1,"card","h-100"],[1,"row","mb-3"],[1,"col-sm-4","col-form-label","fw"],[3,"ngClass"],[1,"fa","fa-star","fa-xs"],[1,"col-sm-8"],["type","text","placeholder","First name","name","firstname","id","firstname",1,"form-control",3,"ngModel","ngModelChange"],["type","text","placeholder","Last name","name","lastname",1,"form-control",3,"ngModel","ngModelChange"],["type","text","placeholder","Email","name","email","disabled","",1,"form-control",3,"ngModel","ngModelChange"],["type","text","numbersOnly","","maxlength","10","placeholder","Phone number","name","phonenumber",1,"form-control",3,"ngModel","ngModelChange"],["role","alert",1,"alert-light","fade","show"],[1,"hrLine"],[1,"fw-bold","text-decoration-underline","fst-italic","fs-6"],[3,"ngClass",4,"ngIf"],[1,"input-group","col-sm-8"],["maxlength","10","placeholder","Password","name","password",1,"form-control",3,"type","ngModel","ngModelChange"],[1,"input-group-append"],[1,"input-group-text"],[1,"fa",3,"ngClass","click"],["class","alert fade alert-danger show mt-1","role","alert",4,"ngIf"],["maxlength","10","placeholder","Confirm Password","name","confirmPassword",1,"form-control",3,"type","ngModel","ngModelChange"],["class","alert alert-danger show mt-1","role","alert",4,"ngIf"],[1,"row","mt-2"],[1,"col-sm-12","text-secondary"],["type","button",1,"btn","btn-secondary","px-4","m-2",3,"routerLink"],["type","button",1,"btn","btn-primary","px-4","m-2",3,"click"],[1,"fa","fa-pencil","fa-xs","me-2"],["role","alert",1,"alert","fade","alert-danger","show","mt-1"],["role","alert",1,"alert","alert-danger","show","mt-1"]],template:function(t,r){1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"h3"),e._uU(3,"PROFILE SETTING"),e.qZA(),e._UZ(4,"hr",2),e.qZA(),e.TgZ(5,"div",3)(6,"div",4)(7,"div",5)(8,"div",6)(9,"div",7)(10,"label",8)(11,"div",9),e._UZ(12,"img",10),e.qZA()()(),e.TgZ(13,"div",11)(14,"h4",12),e._uU(15),e.qZA(),e.TgZ(16,"p",13),e._uU(17),e.qZA(),e.TgZ(18,"p",14),e._uU(19,"Bcc House, First Floor, 8/5/5 Manorama Ganj, INDORE"),e.qZA(),e._UZ(20,"div"),e.qZA(),e.TgZ(21,"div")(22,"ul",15)(23,"li"),e._UZ(24,"i",16),e.TgZ(25,"a"),e._uU(26),e.qZA()(),e.TgZ(27,"li"),e._UZ(28,"i",17),e.TgZ(29,"a"),e._uU(30),e.qZA()()()()()()(),e.TgZ(31,"div",18)(32,"div",19)(33,"div",6)(34,"div",20)(35,"label",21),e._uU(36," First Name "),e.TgZ(37,"sup",22),e._UZ(38,"i",23),e.qZA()(),e.TgZ(39,"div",24)(40,"input",25),e.NdJ("ngModelChange",function(i){return r.currentUser.firstname=i}),e.qZA()()(),e.TgZ(41,"div",20)(42,"label",21),e._uU(43," Last Name "),e.TgZ(44,"sup",22),e._UZ(45,"i",23),e.qZA()(),e.TgZ(46,"div",24)(47,"input",26),e.NdJ("ngModelChange",function(i){return r.currentUser.lastname=i}),e.qZA()()(),e.TgZ(48,"div",20)(49,"label",21),e._uU(50," Email "),e.TgZ(51,"sup",22),e._UZ(52,"i",23),e.qZA()(),e.TgZ(53,"div",24)(54,"input",27),e.NdJ("ngModelChange",function(i){return r.currentUser.email=i}),e.qZA()()(),e.TgZ(55,"div",20)(56,"label",21),e._uU(57," Phone Number "),e.TgZ(58,"sup",22),e._UZ(59,"i",23),e.qZA()(),e.TgZ(60,"div",24)(61,"input",28),e.NdJ("ngModelChange",function(i){return r.currentUser.phonenumber=i})("ngModelChange",function(){return r.patternMatchCheck(r.currentUser.phonenumber,"phoneNumber")}),e.qZA(),e.TgZ(62,"small",29),e._uU(63," Phone number should be of 10 digits. "),e.qZA()()(),e._UZ(64,"hr",30),e.qZA(),e.TgZ(65,"div",6)(66,"p",31),e._uU(67,"Change Password (Optional)"),e.qZA(),e.TgZ(68,"div",20)(69,"label",21),e._uU(70," Password"),e.YNc(71,U,2,1,"sup",32),e.qZA(),e.TgZ(72,"div",33)(73,"input",34),e.NdJ("ngModelChange",function(i){return r.currentUser.password=i})("ngModelChange",function(){return r.patternMatchCheck(r.currentUser.password,"strongPasswordCheck")}),e.qZA(),e.TgZ(74,"div",35)(75,"span",36)(76,"i",37),e.NdJ("click",function(){return r.toggleFieldTextType()}),e.qZA()()(),e.YNc(77,Z,2,0,"p",38),e.qZA()(),e.TgZ(78,"div",20)(79,"label",21),e._uU(80," Confirm Password "),e.YNc(81,T,2,1,"sup",32),e.qZA(),e.TgZ(82,"div",33)(83,"input",39),e.NdJ("ngModelChange",function(i){return r.currentUser.confirm_password=i}),e.qZA(),e.TgZ(84,"div",35)(85,"span",36)(86,"i",37),e.NdJ("click",function(){return r.toggleFieldTextType()}),e.qZA()()(),e.YNc(87,C,2,0,"p",40),e.qZA(),e.TgZ(88,"div",41)(89,"div",42)(90,"button",43),e._uU(91," Cancel "),e.qZA(),e.TgZ(92,"button",44),e.NdJ("click",function(){return r.uploadProfile()}),e._UZ(93,"i",45),e._uU(94,"Edit"),e.qZA()()()()()()()()()),2&t&&(e.xp6(15),e.AsE("",r.userStaticDetail.firstname," ",r.userStaticDetail.lastname,""),e.xp6(2),e.Oqu(r.userStaticDetail.firstname),e.xp6(9),e.hij("+91",r.userStaticDetail.phonenumber," "),e.xp6(4),e.Oqu(r.userStaticDetail.email),e.xp6(7),e.Q6J("ngClass",r.checkvalidation("firstname")),e.xp6(3),e.Q6J("ngModel",r.currentUser.firstname),e.xp6(4),e.Q6J("ngClass",r.checkvalidation("lastname")),e.xp6(3),e.Q6J("ngModel",r.currentUser.lastname),e.xp6(4),e.Q6J("ngClass",r.checkvalidation("email")),e.xp6(3),e.Q6J("ngModel",r.currentUser.email),e.xp6(4),e.Q6J("ngClass",r.checkvalidation("phonenumber")),e.xp6(3),e.Q6J("ngModel",r.currentUser.phonenumber),e.xp6(10),e.Q6J("ngIf",r.currentUser.password),e.xp6(2),e.Q6J("type",r.fieldTextType?"text":"password")("ngModel",r.currentUser.password),e.xp6(3),e.Q6J("ngClass",e.WLB(24,g,!r.fieldTextType,r.fieldTextType)),e.xp6(1),e.Q6J("ngIf",r.currentUser.password&&!r.inValidateCheck.strongPasswordCheck),e.xp6(4),e.Q6J("ngIf",r.currentUser.password),e.xp6(2),e.Q6J("type",r.fieldTextType?"text":"password")("ngModel",r.currentUser.confirm_password),e.xp6(3),e.Q6J("ngClass",e.WLB(27,g,!r.fieldTextType,r.fieldTextType)),e.xp6(1),e.Q6J("ngIf",r.currentUser.password&&r.currentUser.confirm_password&&r.currentUser.password!==r.currentUser.confirm_password),e.xp6(3),e.Q6J("routerLink",e.DdM(30,_)))},dependencies:[u.mk,u.O5,d.rH,h.Y,p.Fj,p.JJ,p.nD,p.On],styles:[".input-group-text[_ngcontent-%COMP%]{display:inline-block}.fa[_ngcontent-%COMP%]{cursor:pointer}"]}),n})()}];let w=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({imports:[d.Bz.forChild(v),d.Bz]}),n})(),P=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({imports:[u.ez,w,a.eY]}),n})()}}]);