"use strict";(self.webpackChunkshopping_website=self.webpackChunkshopping_website||[]).push([[857],{9857:(P,c,s)=>{s.r(c),s.d(c,{ProductListModule:()=>L});var u=s(6895),p=s(1983),d=s(5415),a=s(7579),l=s(1300),g=s(2340),t=s(1571),h=s(7185),Z=s(334),T=s(7151);function m(r,i){1&r&&(t.TgZ(0,"h4",9),t._uU(1," YOUR PLACED ORDER'S ARE HERE "),t.qZA())}function U(r,i){1&r&&(t.TgZ(0,"h4",9),t._uU(1," ALL ORDERS OF CUSTOMERS "),t.qZA())}function f(r,i){if(1&r&&(t.TgZ(0,"tr",10)(1,"th",11),t._uU(2),t.qZA(),t.TgZ(3,"td"),t._uU(4),t.qZA(),t.TgZ(5,"td"),t._uU(6),t.TgZ(7,"b"),t._uU(8),t.qZA()(),t.TgZ(9,"td"),t._UZ(10,"img",12),t.qZA(),t.TgZ(11,"td"),t._uU(12),t.qZA(),t.TgZ(13,"td"),t._uU(14),t.qZA(),t.TgZ(15,"td",13),t._uU(16),t.qZA(),t.TgZ(17,"td"),t._uU(18),t.ALo(19,"date"),t.qZA()()),2&r){const e=i.$implicit,o=i.index;t.xp6(2),t.Oqu(o+1),t.xp6(2),t.Oqu(e.razorpayOrderId),t.xp6(2),t.hij("",null==e.productDetails?null:e.productDetails.productname," "),t.xp6(2),t.hij("(",e.size,")"),t.xp6(2),t.Q6J("src",null==e.productDetails?null:e.productDetails.productImg,t.LSH),t.xp6(2),t.AsE("",e.amount," (",null==e.productDetails?null:e.productDetails.productmargin," %)"),t.xp6(2),t.Oqu(e.quantity),t.xp6(1),t.Q6J("title",null==e.productDetails?null:e.productDetails.Productdescription),t.xp6(1),t.Oqu(null==e.productDetails?null:e.productDetails.Productdescription.substring(0,50)),t.xp6(2),t.Oqu(t.xi3(19,11,e.createdAt,"MM/dd/yyyy"))}}const A=[{path:"",component:(()=>{class r{constructor(e,o,n,R){this.toastr=e,this.spinner=o,this.jwtService=n,this.productService=R,this.orderList=[],this.datatableElement=d.G,this.dtOptions={},this.dtTrigger=new a.x,this.currentUser=new l.ar,this.uRoles=g.N.role}ngOnInit(){this.currentUser=this.jwtService.getCurrentUser(),this.dtOptions={responsive:!0,scrollX:!0,scrollY:"350px",scrollCollapse:!0,pageLength:10,columnDefs:[]},this.getorderList()}ngAfterViewInit(){this.dtTrigger.next("")}getorderList(){this.spinner.show();let e={};this.currentUser.role==this.uRoles.userRole&&(e={userId:this.currentUser._id}),this.productService.getOrderList(e).subscribe({next:o=>{console.log("dataRes========",o),200==o.status&&this.datatableElement.dtInstance.then(n=>{n.destroy(),this.dtTrigger.next(""),this.orderList=o.data,this.spinner.hide()})},error:o=>{this.spinner.hide(),this.toastr.error(o.message,"Error!")}})}}return r.\u0275fac=function(e){return new(e||r)(t.Y36(h._W),t.Y36(Z.t2),t.Y36(l.Tj),t.Y36(T.M))},r.\u0275cmp=t.Xpm({type:r,selectors:[["app-product-list"]],viewQuery:function(e,o){if(1&e&&t.Gf(d.G,5),2&e){let n;t.iGM(n=t.CRH())&&(o.datatableElement=n.first)}},decls:32,vars:5,consts:[[1,"container","pt-5","mb-5","card"],[1,"row","text-left","p-2"],["class","col-12",4,"ngIf"],[1,"container-fluid","app-user","bg-white","p-5"],[1,"table-responsive-lg"],["datatable","",1,"table","table-bordered","table-hover","table-striped",2,"width","100%",3,"dtOptions","dtTrigger"],[1,"text-nowrap","text-primary"],[1,"text-wrap"],["class"," border",4,"ngFor","ngForOf"],[1,"col-12"],[1,"border"],["scope","row"],["width","150px","height","100px",3,"src"],[3,"title"]],template:function(e,o){1&e&&(t.TgZ(0,"div",0)(1,"div",1),t.YNc(2,m,2,0,"h4",2),t.YNc(3,U,2,0,"h4",2),t._UZ(4,"hr"),t.qZA(),t.TgZ(5,"div",3)(6,"div",4)(7,"table",5)(8,"thead")(9,"tr",6)(10,"th"),t._uU(11,"S.N."),t.qZA(),t.TgZ(12,"th"),t._uU(13,"PRODUCT ID"),t.qZA(),t.TgZ(14,"th"),t._uU(15,"PRODUCT "),t.TgZ(16,"b"),t._uU(17,"(S)"),t.qZA()(),t.TgZ(18,"th"),t._uU(19,"PRODUCT IMAGE"),t.qZA(),t.TgZ(20,"th"),t._uU(21,"PRODUCT PRICE "),t.TgZ(22,"b"),t._uU(23,"(OFF)"),t.qZA()(),t.TgZ(24,"th"),t._uU(25,"QUANTITY"),t.qZA(),t.TgZ(26,"th"),t._uU(27,"PRODUCT DISCRIPTION"),t.qZA(),t.TgZ(28,"th"),t._uU(29,"ORDER DATE"),t.qZA()()(),t.TgZ(30,"tbody",7),t.YNc(31,f,20,14,"tr",8),t.qZA()()()()()),2&e&&(t.xp6(2),t.Q6J("ngIf",o.currentUser.role===o.uRoles.userRole),t.xp6(1),t.Q6J("ngIf",o.currentUser.role===o.uRoles.adminRole),t.xp6(4),t.Q6J("dtOptions",o.dtOptions)("dtTrigger",o.dtTrigger),t.xp6(24),t.Q6J("ngForOf",o.orderList))},dependencies:[u.sg,u.O5,d.G,u.uU]}),r})()}];let O=(()=>{class r{}return r.\u0275fac=function(e){return new(e||r)},r.\u0275mod=t.oAB({type:r}),r.\u0275inj=t.cJS({imports:[p.Bz.forChild(A),p.Bz]}),r})(),L=(()=>{class r{}return r.\u0275fac=function(e){return new(e||r)},r.\u0275mod=t.oAB({type:r}),r.\u0275inj=t.cJS({imports:[u.ez,l.eY,O]}),r})()}}]);